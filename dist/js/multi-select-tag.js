function MultiSelectTag(e,n={shadow:!1,rounded:!0}){var t=null,d=null,l=null,a=null,s=null,i=null,o=null,c=null,r=null,u=null,p=null,v=null,m=new DOMParser;function h(e=null){for(var n of(v.innerHTML="",d))if(n.selected)!w(n.value)&&f(n);else{const t=document.createElement("li");t.innerHTML=n.label,t.dataset.value=n.value,e&&n.label.toLowerCase().startsWith(e.toLowerCase())?v.appendChild(t):e||v.appendChild(t)}}function f(e){const n=document.createElement("div");n.classList.add("item-container");const t=document.createElement("div");t.classList.add("item-label"),t.innerHTML=e.label,t.dataset.value=e.value;const l=(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="item-close-svg">\n                <line x1="18" y1="6" x2="6" y2="18"></line>\n                <line x1="6" y1="6" x2="18" y2="18"></line>\n                </svg>',"image/svg+xml").documentElement;l.addEventListener("click",(n=>{d.find((n=>n.value==e.value)).selected=!1,g(e.value),h(),E()})),n.appendChild(t),n.appendChild(l),o.append(n)}function L(){for(var e of v.children)e.addEventListener("click",(e=>{d.find((n=>n.value==e.target.dataset.value)).selected=!0,r.value=null,h(),E(),r.focus()}))}function w(e){for(var n of o.children)if(!n.classList.contains("input-body")&&n.firstChild.dataset.value==e)return!0;return!1}function g(e){for(var n of o.children)n.classList.contains("input-body")||n.firstChild.dataset.value!=e||o.removeChild(n)}function E(){for(var e=0;e<d.length;e++)t.options[e].selected=d[e].selected}t=document.getElementById(e),function(){d=[...t.options].map((e=>({value:e.value,label:e.label,selected:e.selected}))),t.classList.add("hidden"),(l=document.createElement("div")).classList.add("mult-select-tag"),(a=document.createElement("div")).classList.add("wrapper"),(i=document.createElement("div")).classList.add("body"),n.shadow&&i.classList.add("shadow"),n.rounded&&i.classList.add("rounded"),(o=document.createElement("div")).classList.add("input-container"),(r=document.createElement("input")).classList.add("input"),r.placeholder=`${n.placeholder||"Search..."}`,(c=document.createElement("inputBody")).classList.add("input-body"),c.append(r),i.append(o),(s=document.createElement("div")).classList.add("btn-container"),u=document.createElement("button"),s.append(u);const e=m.parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n            <polyline points="18 15 12 21 6 15"></polyline></svg>',"image/svg+xml").documentElement;u.append(e),i.append(s),a.append(i),(p=document.createElement("div")).classList.add("drawer","hidden"),n.shadow&&p.classList.add("shadow"),n.rounded&&p.classList.add("rounded"),p.append(c),v=document.createElement("ul"),p.appendChild(v),l.appendChild(a),l.appendChild(p),t.nextSibling?t.parentNode.insertBefore(l,t.nextSibling):t.parentNode.appendChild(l)}(),h(),L(),E(),u.addEventListener("click",(()=>{p.classList.contains("hidden")&&(h(),L(),p.classList.remove("hidden"),r.focus())})),r.addEventListener("keyup",(e=>{h(e.target.value),L()})),r.addEventListener("keydown",(e=>{if("Backspace"===e.key&&!e.target.value&&o.childElementCount>1){const e=i.children[o.childElementCount-2].firstChild;d.find((n=>n.value==e.dataset.value)).selected=!1,g(e.dataset.value),E()}})),window.addEventListener("click",(e=>{l.contains(e.target)||p.classList.add("hidden")}))}
